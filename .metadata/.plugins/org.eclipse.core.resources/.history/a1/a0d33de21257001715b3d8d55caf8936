<cfcomponent output="true">
	<cffunction name="onRequestStart" >
		<cfif StructKeyExists(form,"user_email") AND StructKeyExists(form,"user_password")>
			<cfquery datasource="Project_DataSource" name="nmLogin" result="rsLogin">
				SELECT uid 
				FROM dbo.Users_Details
				WHERE EmailAddress = '#email#' AND Password = '#password#'
			</cfquery>>	
			
			<cfif rsLogin.recordCount EQ 1>
				<cfquery datasource="Project_DataSource">
					UPDATE dbo.Users_Details 
					SET isActive = 1 
					WHERE uid = #nmLogin.uid#
				</cfquery>
				<cfset session.id = #nmLogin.uid#>
				<cfreturn true>
			<cfelse>
				<cfreturn false>	
			</cfif>
		</cfif>
	</cffunction>>
</cfcomponent>